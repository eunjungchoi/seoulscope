<h1 class="page-header">방문</h1>
<div>
    <div ng-hide="editing">
        <div>
            <button class="btn btn-primary" ng-click="addLog();" ng-disabled="inserted" style="width:100%; margin-bottom: 8px;">
                <span class="glyphicon glyphicon-plus"> Add</span>
            </button>
        </div>
        <div ng-show="inserted">
            <form role="form">
                <div class="form-group">
                    <input type="date" class="form-control" id="date" placeholder="Enter email" ng-model="inserted.date">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="name" placeholder="Name" ng-model="inserted.name">
                </div>
                <div class="form-group">
                    <textarea class="form-control" id="text" placeholder="Text" rows="10" ng-model="inserted.text"></textarea>
                </div>
                <div class="form-group">
                    <input type="submit" class="btn btn-primary" ng-click="saveLog();" value="Save"/>
                    <input type="reset"  class="btn btn-default" ng-click="cancel();" value="Cancel"/>
                </div>
            </form>
        </div>
        <div class="table-responsive" style="overflow-x:hidden;">
            <table class="table table-striped table-hover" ng-init="reverse=true">
                <thead>
                    <tr>
                        <th><a href="" ng-click="predicate = 'date'; reverse=!reverse">Date</a></th>
                        <th>Name</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-click="editLog(log)" ng-repeat="log in logs | orderBy:'date':reverse" style="cursor:pointer;">
                        <td>{{log.date}}</a></td>
                        <td>{{log.name}}<i class="pull-right glyphicon glyphicon-chevron-right"></i></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div ng-show="editing">
        <form role="form" name="editingForm">
            <div class="form-group">
                <input type="date" class="form-control" id="date" ng-model="editing.date">
            </div>
            <div class="form-group">
                <input type="text" class="form-control typeahead" id="name" placeholder="Name" ng-model="editing.name" style="width:30%;display:inline-block;">
                <select class="form-control" id="names" name="selSpot" ng-model="sel_spot" ng-options="spot.name for spot in getSpots()" ng-change="selectSpot();" style="width:69.5%;display:inline-block;float:right;">
                    <option value="">... or select spot.</option>
                </select>
            </div>
            <div class="form-group">
                <textarea class="form-control" id="text" placeholder="text" rows="10" ng-model="editing.text"></textarea>
            </div>
            <div class="form-group">
                <select class="form-control" id="albums" placeholder="Albums" ng-model="album" ng-options="album.title for album in albums" ng-change="selectAlbum();">
                    <option value="">-- select album --</option>
                </select>
            </div>
            <div class="form-group" ng-show="editing.photos">
                <img ng-repeat="photo in editing.photos" ng-src="{{ photo }}" style="width:10%;"/>
            </div>
            <div class="form-group">
                <input type="submit" class="btn btn-primary" ng-click="saveLog(editing);" value="Save"/>
                <input type="reset"  class="btn btn-default" ng-click="cancel();" value="Cancel"/>
            </div>
        </form>
    </div>
</div>